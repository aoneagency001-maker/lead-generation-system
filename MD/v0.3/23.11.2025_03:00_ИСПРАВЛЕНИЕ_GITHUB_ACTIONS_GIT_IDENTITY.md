# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GitHub Actions: Git Identity Error

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 23.11.2025 03:00

---

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞

### –û—à–∏–±–∫–∞:
```
fatal: empty ident name (... runner@...) not allowed
Committer identity unknown
git config --global user.email "you@example.com"
git config --global user.name "Your Name"
```

### –ü—Ä–∏—á–∏–Ω–∞:
GitHub Actions Runner –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å git tag/commit, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ Git identity (user.name –∏ user.email).

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω —à–∞–≥ "Set Git identity"

**–î–æ:**
```yaml
- name: üè∑Ô∏è Create version tag
  run: |
    git tag -a "v$VERSION" -m "Auto-deploy: $VERSION"
    git push origin "v$VERSION" || true
```

**–ü–æ—Å–ª–µ:**
```yaml
- name: üîß Set Git identity
  run: |
    git config --global user.email "deploy@leadgen.system"
    git config --global user.name "LeadGen CI"

- name: üè∑Ô∏è Create version tag
  run: |
    # ... —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞
```

---

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë—ã–ª–æ:**
```yaml
VERSION=$(date +"%Y%m%d-%H%M%S")
```

**–°—Ç–∞–ª–æ:**
```yaml
VERSION=$(date +"%Y%m%d-%H%M%S")
SHORT_SHA=$(git rev-parse --short HEAD)
FULL_VERSION="v${VERSION}-${SHORT_SHA}"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –í–µ—Ä—Å–∏—è –≤–∫–ª—é—á–∞–µ—Ç SHA –∫–æ–º–º–∏—Ç–∞
- –õ–µ–≥—á–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫–∞–∫–æ–π –∫–æ–º–º–∏—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

---

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```yaml
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ç–µ–≥
if git rev-parse "$FULL_VERSION" >/dev/null 2>&1; then
  echo "‚ö†Ô∏è Tag $FULL_VERSION already exists, skipping"
  FULL_VERSION="v${VERSION}-${SHORT_SHA}-$(date +%s)"
fi
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–≥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

---

### 3. –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ backend/frontend

**–ë—ã–ª–æ:**
```yaml
push:
  branches:
    - main
```

**–°—Ç–∞–ª–æ:**
```yaml
push:
  branches:
    - main
  paths:
    - 'backend/**'
    - 'frontend/**'
    - 'core/**'
    - 'library/**'
    - 'data_intake/**'
    - 'docker-compose.yml'
    - 'Dockerfile'
    - '.github/workflows/auto-deploy.yml'
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞
- –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ CI/CD
- –ë—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

---

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ GitHub Releases

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```yaml
- name: üéâ Create GitHub Release
  if: success() && github.ref == 'refs/heads/main'
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  run: |
    # –°–æ–∑–¥–∞—ë–º —Ä–µ–ª–∏–∑ —á–µ—Ä–µ–∑ GitHub API
    curl -X POST \
      -H "Authorization: token $GITHUB_TOKEN" \
      -H "Accept: application/vnd.github.v3+json" \
      https://api.github.com/repos/${{ github.repository }}/releases \
      -d "{...}"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π –≤ GitHub
- –£–¥–æ–±–Ω—ã–π –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –≤–µ—Ä—Å–∏—è–º

---

### 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```yaml
git fetch --prune --unshallow --tags || true
git push origin "$FULL_VERSION" || echo "‚ö†Ô∏è Failed to push tag (may already exist)"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- Workflow –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Å–±–æ—è—Ö

---

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. ‚úÖ **Git Identity** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ user.name –∏ user.email
2. ‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–ª—É—á—à–µ–Ω–æ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º SHA –∫–æ–º–º–∏—Ç–∞
3. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–µ–≥–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
4. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è** - –¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
5. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª–∏–∑—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ GitHub Releases
6. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —É–ª—É—á—à–µ–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å workflow

---

## üîç –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ workflow

### –§–∞–π–ª: `.github/workflows/auto-deploy.yml`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–ª–µ–Ω —à–∞–≥ `üîß Set Git identity` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–µ–≥–∞
2. –£–ª—É—á—à–µ–Ω–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–æ–±–∞–≤–ª–µ–Ω SHA –∫–æ–º–º–∏—Ç–∞)
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–∞
4. –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `paths` –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–µ–ø–ª–æ—è
5. –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ GitHub Release —á–µ—Ä–µ–∑ API
6. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Git Identity

```bash
# –í workflow —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å:
git config --global user.email "deploy@leadgen.system"
git config --global user.name "LeadGen CI"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–¢–µ–≥–∏ —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:
```
v20251123-030000-a1b2c3d
```

–ì–¥–µ:
- `20251123-030000` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- `a1b2c3d` - –∫–æ—Ä–æ—Ç–∫–∏–π SHA –∫–æ–º–º–∏—Ç–∞

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—É—Ç–µ–π

Workflow –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å:
- `backend/**`
- `frontend/**`
- `core/**`
- `library/**`
- `data_intake/**`
- `docker-compose.yml`
- `Dockerfile`

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:
- Git identity –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –¢–µ–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–æ

### ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ GitHub Releases
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:

1. **Git Identity** - Git —Ç—Ä–µ–±—É–µ—Ç –∏–º—è –∏ email –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (commit, tag)
2. **GitHub Runner** - —ç—Ç–æ —á–∏—Å—Ç–∞—è –≤–∏—Ä—Ç—É–∞–ª–∫–∞ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å

### Best Practices:

1. ‚úÖ –í—Å–µ–≥–¥–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å Git identity –ø–µ—Ä–µ–¥ git-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (—Å SHA –∫–æ–º–º–∏—Ç–∞)
3. ‚úÖ –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–µ–ø–ª–æ—è –ø–æ –ø—É—Ç—è–º
4. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–ª–∏–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ gracefully

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 23.11.2025 03:00  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ


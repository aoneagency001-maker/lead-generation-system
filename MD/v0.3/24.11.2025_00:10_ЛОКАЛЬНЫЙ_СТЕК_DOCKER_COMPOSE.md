# –õ–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫ —á–µ—Ä–µ–∑ docker compose

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 24.11.2025 00:10

---

## üß± –°–æ—Å—Ç–∞–≤ —Å—Ç–µ–∫–∞
- backend (`Dockerfile`, FastAPI)
- redis (–æ—á–µ—Ä–µ–¥–∏/–∫—ç—à)
- n8n (–≤–æ—Ä–∫—Ñ–ª–æ—É)
- metabase (–¥–∞—à–±–æ—Ä–¥—ã)

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ `docker-compose.yml`. Backend —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª–µ–Ω –∫–∞–∫ `leadgen-backend` —Å –ø–æ—Ä—Ç–æ–º `8000`.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
1. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   cd /Users/vbut/lead-generation-system
   ```
2. –ó–∞–ø–æ–ª–Ω–∏ `.env` (–∫–∞–∫ –º–∏–Ω–∏–º—É–º –∫–ª—é—á–∏ –¥–ª—è –ë–î/–±–æ—Ç–æ–≤). –§–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ `env_file` –¥–ª—è backend.
3. –ü–æ–¥–Ω–∏–º–∏ —Å—Ç–µ–∫:
   ```bash
   docker compose up -d --build
   ```
4. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å:
   ```bash
   docker compose ps
   ```
5. Backend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8000/api/health`.

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞:
  ```bash
  docker compose logs -f backend
  ```
- –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏:
  ```bash
  docker compose up -d --build backend
  ```
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë:
  ```bash
  docker compose down --remove-orphans
  ```

---

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –í backend —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (`.:/app`) –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
- Redis required env `REDIS_URL` –¥–æ–ª–∂–µ–Ω —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `redis://leadgen-redis:6379/0` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ).
- –î–ª—è n8n/metabase –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫—Ä–µ–¥—ã, –ø–æ–º–µ–Ω—è–π –∏—Ö –≤ `.env` –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–º.


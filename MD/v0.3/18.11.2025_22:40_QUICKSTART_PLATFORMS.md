# ðŸš€ Quick Start: OLX & Satu ÐœÐ¾Ð´ÑƒÐ»Ð¸

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 18.11.2025 22:40


**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ**: âœ… Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð°, Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

---

## ðŸ“‹ Ð§Ñ‚Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾

### OLX Module (Port 8001)
- âœ… OAuth 2.0 Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- âœ… 3 Ð¼ÐµÑ‚Ð¾Ð´Ð° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° (lerdem, playwright, api)
- âœ… Playwright publisher
- âœ… Python SDK
- âœ… 10 Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð² Supabase

### Satu Module (Port 8002)
- âœ… API Token Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
- âœ… 2 Ð¼ÐµÑ‚Ð¾Ð´Ð° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° (playwright, api)
- âœ… API publisher
- âœ… Python SDK
- âœ… 10 Ñ‚Ð°Ð±Ð»Ð¸Ñ† Ð² Supabase

---

## âš¡ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ (3 ÑˆÐ°Ð³Ð°)

### Ð¨Ð°Ð³ 1: Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… (5 Ð¼Ð¸Ð½ÑƒÑ‚)

```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Supabase Dashboard â†’ SQL Editor
# Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾ Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸:

# 1. OLX ÑÑ…ÐµÐ¼Ð°
cat modules/platforms/olx/database/schema.sql | pbcopy
# Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð² SQL Editor Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ

# 2. Satu ÑÑ…ÐµÐ¼Ð°
cat modules/platforms/satu/database/schema.sql | pbcopy
# Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð² SQL Editor Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹
```

### Ð¨Ð°Ð³ 2: Credentials (10 Ð¼Ð¸Ð½ÑƒÑ‚)

#### OLX (OAuth 2.0)
1. Ð—Ð°Ð¹Ñ‚Ð¸ Ð½Ð° https://developer.olx.kz
2. Sign In Ñ Ð²Ð°ÑˆÐ¸Ð¼ OLX Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð¼
3. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
4. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Client ID Ð¸ Client Secret

#### Satu (API Token)
1. Ð—Ð°Ð¹Ñ‚Ð¸ Ð½Ð° https://satu.kz (Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸)
2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ â†’ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ API-Ñ‚Ð¾ÐºÐµÐ½Ð°Ð¼Ð¸
3. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸: Orders, Products, Groups, Clients
4. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½

#### .env Ñ„Ð°Ð¹Ð»
```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cat > .env << 'EOF'
# OLX
OLX_CLIENT_ID=your_client_id
OLX_CLIENT_SECRET=your_client_secret
OLX_REDIRECT_URI=http://localhost:8001/auth/callback

# Satu
SATU_API_TOKEN=your_api_token
SATU_COMPANY_ID=your_company_id

# Supabase
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_KEY=your_key

# Browser
BROWSER_HEADLESS=true
BROWSER_SLOW_MO=50

# Parser
PARSER_TIMEOUT=30
EOF
```

### Ð¨Ð°Ð³ 3: Ð—Ð°Ð¿ÑƒÑÐº (2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)

```bash
# Terminal 1 - OLX Module
cd modules/platforms/olx
pip install -r requirements.txt
python -m api.main

# ÐžÑ‚ÐºÑ€Ð¾ÐµÑ‚ÑÑ Ð½Ð° http://localhost:8001
# Swagger docs: http://localhost:8001/docs

# Terminal 2 - Satu Module
cd modules/platforms/satu
pip install -r requirements.txt
python -m api.main

# ÐžÑ‚ÐºÑ€Ð¾ÐµÑ‚ÑÑ Ð½Ð° http://localhost:8002
# Swagger docs: http://localhost:8002/docs
```

---

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· Swagger UI

### OLX (http://localhost:8001/docs)

#### 1. ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
```http
POST /auth/oauth/login
{
  "email": "your@email.com",
  "password": "your_password"
}

Response:
{
  "id": "uuid",
  "access_token": "...",
  "refresh_token": "..."
}
```

#### 2. ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³
```http
POST /parser/search
{
  "search_query": "iphone 15",
  "city": "almaty",
  "parser_method": "lerdem",
  "max_pages": 1
}

Response:
{
  "success": true,
  "task_id": "uuid",
  "status": "pending"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
GET /parser/tasks/{task_id}

# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
GET /parser/results/{result_id}
```

#### 3. ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
```http
POST /ads?account_id={account_id}
{
  "title": "iPhone 15 Pro 256GB",
  "description": "ÐÐ¾Ð²Ñ‹Ð¹, Ð·Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ð½Ð½Ñ‹Ð¹",
  "price": 450000,
  "category": "electronics",
  "city": "almaty",
  "images": []
}

Response:
{
  "success": true,
  "ad_url": "https://www.olx.kz/d/...",
  "external_id": "123456"
}
```

---

### Satu (http://localhost:8002/docs)

#### 1. ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
```http
POST /auth/token
{
  "api_token": "your_token",
  "company_id": "your_company_id"
}

Response:
{
  "id": "uuid",
  "company_name": "..."
}
```

#### 2. ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³
```http
POST /parser/search
{
  "search_query": "ÑÐ²Ð°Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚",
  "parser_method": "playwright",
  "max_pages": 1
}

Response:
{
  "success": true,
  "task_id": "uuid"
}

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
GET /parser/tasks/{task_id}
GET /parser/results/{result_id}
```

#### 3. ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
```http
POST /products?account_id={account_id}
{
  "title": "Ð¡Ð²Ð°Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚ Ð ÐµÑÐ°Ð½Ñ‚Ð° Ð¡ÐÐ˜-190",
  "description": "Ð˜Ð½Ð²ÐµÑ€Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¹, 190Ð",
  "price": 85000,
  "quantity": 10,
  "category": "instruments",
  "images": []
}

Response:
{
  "success": true,
  "ad_url": "https://satu.kz/product/..."
}
```

---

## ðŸ Python SDK Examples

### OLX SDK

```python
import asyncio
from modules.platforms.olx.sdk import OLXClient

async def main():
    async with OLXClient("http://localhost:8001") as client:
        # ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
        account = await client.auth.oauth_login(
            email="your@email.com",
            password="password"
        )
        print(f"Logged in: {account['email']}")
        
        # ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³
        print("\nðŸ” Parsing OLX...")
        task = await client.parser.search("iphone 15", city="almaty")
        results = await client.parser.wait_for_results(task["task_id"])
        
        print(f"âœ… Found: {results['items_count']} ads")
        for item in results["data"][:5]:  # ÐŸÐµÑ€Ð²Ñ‹Ðµ 5
            print(f"  - {item['title']}: {item['price']} Ñ‚Ð³")
        
        # ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
        print("\nðŸ“¤ Publishing ad...")
        ad = await client.ads.create(
            title="iPhone 15 Pro 256GB",
            description="ÐÐ¾Ð²Ñ‹Ð¹, Ð·Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ð½Ð½Ñ‹Ð¹",
            price=450000,
            category="electronics",
            city="almaty",
            account_id=account["id"]
        )
        print(f"âœ… Published: {ad['ad_url']}")

if __name__ == "__main__":
    asyncio.run(main())
```

### Satu SDK

```python
import asyncio
from modules.platforms.satu.sdk import SatuClient

async def main():
    async with SatuClient("http://localhost:8002") as client:
        # ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ
        account = await client.auth.login(api_token="your_token")
        print(f"Logged in: {account['company_name']}")
        
        # ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³
        print("\nðŸ” Parsing Satu...")
        task = await client.parser.search("ÑÐ²Ð°Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚")
        results = await client.parser.wait_for_results(task["task_id"])
        
        print(f"âœ… Found: {results['items_count']} products")
        for item in results["data"][:5]:  # ÐŸÐµÑ€Ð²Ñ‹Ðµ 5
            print(f"  - {item['title']}: {item['price']} Ñ‚Ð³")
        
        # ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
        print("\nðŸ“¤ Publishing product...")
        product = await client.products.create(
            title="Ð¡Ð²Ð°Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚ Ð ÐµÑÐ°Ð½Ñ‚Ð° Ð¡ÐÐ˜-190",
            description="Ð˜Ð½Ð²ÐµÑ€Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¹, 190Ð",
            price=85000,
            quantity=10,
            category="instruments",
            account_id=account["id"]
        )
        print(f"âœ… Published: {product['ad_url']}")

if __name__ == "__main__":
    asyncio.run(main())
```

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²

```
modules/platforms/
â”œâ”€â”€ olx/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ main.py              â† FastAPI app (port 8001)
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py          â† OAuth endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ parser.py        â† ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³
â”‚   â”‚   â”‚   â””â”€â”€ ads.py           â† ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
â”‚   â”‚   â””â”€â”€ config.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ auth_service.py      â† OAuth logic
â”‚   â”‚   â”œâ”€â”€ parser_service.py    â† lerdem adapter
â”‚   â”‚   â”œâ”€â”€ parser_playwright.py â† Playwright parser
â”‚   â”‚   â””â”€â”€ publisher_service.py â† ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ schema.sql           â† 10 Ñ‚Ð°Ð±Ð»Ð¸Ñ†
â”‚   â”‚   â””â”€â”€ client.py
â”‚   â”œâ”€â”€ models.py                â† Pydantic models
â”‚   â”œâ”€â”€ sdk/
â”‚   â”‚   â””â”€â”€ __init__.py          â† Python SDK
â”‚   â””â”€â”€ requirements.txt
â”‚
â””â”€â”€ satu/
    â””â”€â”€ (Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°)
```

---

## ðŸ” Debugging

### Logs
```bash
# Ð›Ð¾Ð³Ð¸ Ð¿Ð¸ÑˆÑƒÑ‚ÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ
# Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ: INFO (Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð² config.py)

# Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐµÐ»ÐµÐºÑ‚Ð¾Ñ€Ñ‹
# Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ credentials
```

### Common Issues

**ÐžÑˆÐ¸Ð±ÐºÐ°: "Account not found"**
```bash
# Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·ÑƒÐ¹Ñ‚ÐµÑÑŒ Ñ‡ÐµÑ€ÐµÐ· /auth endpoints
# Ð—Ð°Ñ‚ÐµÐ¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ð¹ account_id
```

**ÐžÑˆÐ¸Ð±ÐºÐ°: "Task status: failed"**
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð¼Ð¾Ð´ÑƒÐ»Ñ
# Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð°ÑÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° HTML (Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÐµÐ»ÐµÐºÑ‚Ð¾Ñ€Ñ‹)
```

**ÐžÑˆÐ¸Ð±ÐºÐ°: "Browser timeout"**
```bash
# Ð£Ð²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ PARSER_TIMEOUT Ð² .env
# Ð˜Ð»Ð¸ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ headless: BROWSER_HEADLESS=false
```

---

## ðŸ“š Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

- **ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¾Ñ‚Ñ‡ÐµÑ‚**: `/docs/PLATFORMS_COMPARISON_REPORT.md`
- **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°**: `/docs/PLATFORM_MODULES_PROGRESS_REPORT.md`
- **Database schemas**: 
  - `/modules/platforms/olx/database/schema.sql`
  - `/modules/platforms/satu/database/schema.sql`

---

## ðŸŽ¯ Next Steps

1. âœ… ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ SQL ÑÑ…ÐµÐ¼Ñ‹ Ð² Supabase
2. âœ… ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ credentials (OLX OAuth, Satu Token)
3. âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð´ÑƒÐ»Ð¸
4. âœ… ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Swagger UI
5. â¸ï¸ Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¾ÑÐ½Ð¾Ð²Ð½ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ñ‡ÐµÑ€ÐµÐ· SDK
6. â¸ï¸ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² n8n workflows
7. â¸ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ alerts

---

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ**: âœ… **Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð·Ð°Ð¿ÑƒÑÐºÑƒ**

Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹? ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹? ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð¸ `/docs/PLATFORMS_COMPARISON_REPORT.md`



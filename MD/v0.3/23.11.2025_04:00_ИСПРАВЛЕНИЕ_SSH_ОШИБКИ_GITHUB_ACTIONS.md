# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –æ—à–∏–±–∫–∏ –≤ GitHub Actions

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 23.11.2025 04:00

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
The ssh-private-key argument is empty.
Maybe the secret has not been configured, or you are using a wrong secret name in your workflow file.
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:

1. **–°–µ–∫—Ä–µ—Ç `VPS_SSH_KEY` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –≤ GitHub Secrets
2. **–°–µ–∫—Ä–µ—Ç –ø—É—Å—Ç–æ–π** (–Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–µ–∫—Ä–µ—Ç–∞** (—Ä–µ–≥–∏—Å—Ç—Ä –≤–∞–∂–µ–Ω!)

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GitHub CLI (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
brew install gh
gh auth login

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
./scripts/check_github_secrets.sh
```

### –®–∞–≥ 2: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SSH –∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç)

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
./scripts/generate_ssh_key_for_github_actions.sh
```

–°–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞—Å—Ç SSH –∫–ª—é—á
- –°–∫–æ–ø–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ VPS
- –ü–æ–∫–∞–∂–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è GitHub Secrets

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ GitHub UI**

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://github.com/aoneagency001-maker/lead-generation-system/settings/secrets/actions`
2. –ù–∞–∂–º–∏—Ç–µ **"New repository secret"**
3. –î–æ–±–∞–≤—å—Ç–µ:

```
Name: VPS_SSH_KEY
Value: -----BEGIN OPENSSH PRIVATE KEY-----
       (–≤–µ—Å—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á)
       -----END OPENSSH PRIVATE KEY-----
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** 
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–ª—é—á–∞ (–≤–∫–ª—é—á–∞—è BEGIN/END —Å—Ç—Ä–æ–∫–∏)
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ —Å–≤–æ—ë–º –º–µ—Å—Ç–µ

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ GitHub CLI**

```bash
# –î–æ–±–∞–≤–∏—Ç—å SSH –∫–ª—é—á
cat ~/.ssh/github_actions_deploy | gh secret set VPS_SSH_KEY --repo aoneagency001-maker/lead-generation-system

# –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å–µ–∫—Ä–µ—Ç—ã
gh secret set VPS_HOST --repo aoneagency001-maker/lead-generation-system
gh secret set VPS_USER --repo aoneagency001-maker/lead-generation-system
```

---

## üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è

| Secret Name | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-------------|----------|--------|
| `VPS_HOST` | IP –∏–ª–∏ –¥–æ–º–µ–Ω VPS | `123.45.67.89` –∏–ª–∏ `vps.example.com` |
| `VPS_USER` | SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | `root` –∏–ª–∏ `ubuntu` |
| `VPS_SSH_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á | `-----BEGIN OPENSSH PRIVATE KEY-----...` |

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ SSH –∫–ª—é—á–∞

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

```
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZW
QyNTUxOQAAACD...
(–º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫)
...
-----END OPENSSH PRIVATE KEY-----
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

1. ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç BEGIN/END —Å—Ç—Ä–æ–∫–∏** ‚Üí GitHub –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∫–ª—é—á
2. ‚ùå **–õ–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫** ‚Üí –∫–ª—é—á –ø–æ–≤—Ä–µ–∂–¥—ë–Ω
3. ‚ùå **–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∫–ª—é—á–∞** ‚Üí –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
4. ‚ùå **–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤–º–µ—Å—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ** ‚Üí –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –∫–ª—é—á–æ–º
ssh -i ~/.ssh/github_actions_deploy root@your-vps-ip

# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ authorized_keys –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å authorized_keys
cat ~/.ssh/authorized_keys

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (—Ñ–∞–π–ª —Å .pub)
```

---

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ workflow

### –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤:

```yaml
- name: ‚ö†Ô∏è Check SSH configuration
  if: env.VPS_HOST == '' || env.VPS_USER == '' || secrets.VPS_SSH_KEY == ''
  run: |
    echo "‚ùå SSH configuration is missing!"
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
    exit 1
```

–¢–µ–ø–µ—Ä—å workflow:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- ‚úÖ –ù–µ –ø–∞–¥–∞–µ—Ç —Å –Ω–µ—è—Å–Ω–æ–π –æ—à–∏–±–∫–æ–π

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω GitHub CLI (`gh`)
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ GitHub CLI (`gh auth login`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã (`./scripts/check_github_secrets.sh`)
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω SSH –∫–ª—é—á (`./scripts/generate_ssh_key_for_github_actions.sh`)
- [ ] –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ VPS
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets –∫–∞–∫ `VPS_SSH_KEY`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã `VPS_HOST` –∏ `VPS_USER` –≤ GitHub Secrets
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ó–∞–ø—É—â–µ–Ω workflow –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üéØ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```bash
   ./scripts/check_github_secrets.sh
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ workflow –≤—Ä—É—á–Ω—É—é:**
   - GitHub ‚Üí Actions ‚Üí Auto Deploy to VPS
   - –ù–∞–∂–º–∏—Ç–µ "Run workflow"

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —à–∞–≥ "Setup SSH" –±–µ–∑ –æ—à–∏–±–æ–∫
   - –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —à–∞–≥ "Upload to VPS"

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 23.11.2025 04:00  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤


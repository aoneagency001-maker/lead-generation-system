# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç Lead Generation System

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 16.11.2025 06:55


## –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞ ‚úÖ

–í—ã —Å–æ–∑–¥–∞–ª–∏ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ª–∏–¥-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä—ã–Ω–∫–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.

---

## üìÅ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

```
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚úÖ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase (SQL)
‚úÖ FastAPI —Å–µ—Ä–≤–µ—Ä —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env
‚úÖ –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ README –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
‚úÖ –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –º–æ–¥–µ–ª–∏
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ –ø–æ—Ä—è–¥–∫—É)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd /Users/vbut/lead-generation-system

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (macOS/Linux)
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade pip
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com
2. –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ "New Project"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (Singapore –∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π)
5. –ó–∞–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
6. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (~2 –º–∏–Ω—É—Ç—ã)

**–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. Settings ‚Üí API
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - `URL` ‚Üí —ç—Ç–æ –≤–∞—à `SUPABASE_URL`
   - `anon public` ‚Üí —ç—Ç–æ –≤–∞—à `SUPABASE_KEY`
   - `service_role` ‚Üí —ç—Ç–æ –≤–∞—à `SUPABASE_SERVICE_KEY` (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π!)

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
nano .env  # –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –ª—é–±–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:**

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å:
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à-anon-–∫–ª—é—á
SUPABASE_SERVICE_KEY=–≤–∞—à-service-role-–∫–ª—é—á

# –û—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
API_PORT=8000
DEBUG=True
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase

**–ß–µ—Ä–µ–∑ SQL Editor (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor (–∏–∫–æ–Ω–∫–∞ `</>` —Å–ª–µ–≤–∞)
3. –ù–∞–∂–º–∏—Ç–µ "New query"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `core/database/schema.sql`
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
6. –ù–∞–∂–º–∏—Ç–µ "Run" (‚ñ∂Ô∏è)
7. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è "Success. No rows returned"

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker —Å–µ—Ä–≤–∏—Å—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
# - leadgen-redis (–ø–æ—Ä—Ç 6379)
# - leadgen-n8n (–ø–æ—Ä—Ç 5678)
# - leadgen-metabase (–ø–æ—Ä—Ç 3000)
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
python scripts/test_connection.py

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# ‚úÖ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
# ‚ö†Ô∏è Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
# ‚ö†Ô∏è WhatsApp –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
# ‚úÖ Redis –ø–æ–¥–∫–ª—é—á–µ–Ω
# ‚úÖ n8n –¥–æ—Å—Ç—É–ø–µ–Ω
```

### –®–∞–≥ 7: –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI —Å–µ—Ä–≤–µ—Ä

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ venv –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
uvicorn core.api.main:app --reload

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://localhost:8000/docs - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
# http://localhost:8000/api/health - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```

---

## üéâ –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

–í—ã —É–≤–∏–¥–∏—Ç–µ:

```json
{
  "status": "healthy",
  "services": {
    "supabase": "ok",
    "telegram": "not_configured",
    "whatsapp": "not_configured",
    "redis": "not_checked"
  },
  "version": "0.1.0"
}
```

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é!** –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ

---

## üìä –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | –õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å |
|--------|-----|--------------|
| FastAPI Docs | http://localhost:8000/docs | - |
| n8n | http://localhost:5678 | admin / admin123 |
| Metabase | http://localhost:3000 | –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ |
| Supabase Dashboard | https://supabase.com/dashboard | –í–∞—à email |

---

## üîß –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –±–æ—Ç–∞** (–ú–æ–¥—É–ª—å 3)
   - –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ `.env`

2. **–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –Ω–∏—à—É —á–µ—Ä–µ–∑ API**
   ```bash
   curl -X POST http://localhost:8000/api/niches/ \
     -H "Content-Type: application/json" \
     -d '{
       "name": "–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤",
       "category": "services",
       "cpl_target": 500,
       "roi_target": 3.0
     }'
   ```

3. **–ù–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –º–æ–¥—É–ª–µ–π:**
   - –ú–æ–¥—É–ª—å 3 (Telegram –±–æ—Ç) - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
   - –ú–æ–¥—É–ª—å 1 (–ü–∞—Ä—Å–µ—Ä—ã OLX/Kaspi)
   - –ú–æ–¥—É–ª—å 2 (–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥) - —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞: "SUPABASE_URL must be set"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat .env | grep SUPABASE

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤–∞—à–∏ –∫–ª—é—á–∏
```

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** 

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose down
docker-compose up -d
```

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ Python –º–æ–¥—É–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ venv –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
which python
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: /Users/vbut/lead-generation-system/venv/bin/python

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –û—à–∏–±–∫–∞ "Table 'niches' does not exist"

**–†–µ—à–µ–Ω–∏–µ:** –í—ã –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ SQL —Å—Ö–µ–º—É. –°–º. –®–∞–≥ 4 –≤—ã—à–µ.

---

## üí¨ –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ README.md –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ README.md –≤ –ø–∞–ø–∫–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç: `python scripts/test_connection.py`

---

## üéØ –¶–µ–ª—å —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å **–º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞—Ö–≤–∞—Ç–∞ –Ω–∏—à** –Ω–∞ —Ä—ã–Ω–∫–µ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞:

```
–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Üí –¢—Ä–∞—Ñ–∏–∫ ‚Üí –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ü–µ—Ä–µ–¥–∞—á–∞ ‚Üí –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
```

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω –∏–ª–∏ —É–ª—É—á—à–µ–Ω.

**–£–¥–∞—á–∏! üöÄ**


# ๐ฏ ะะฒะพะนะฝะพะน Kanban ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะผะพะดัะปัะผะธ

ะะพะปะฝะพัะตะฝะฝะฐั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั ั **ะะะฃะะฏ** Kanban ะดะพัะบะฐะผะธ ะธ ะฟะตัะตะบะปััะฐัะตะปะตะผ ะผะตะถะดั ะฝะธะผะธ!

## โจ ะะฒะฐ ัะตะถะธะผะฐ ะฟัะพัะผะพััะฐ

### 1๏ธโฃ ะกัะฐัััะฝัะน Kanban (ะบะฐะบ AmoCRM)
**4 ะบะพะปะพะฝะบะธ** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ััะฐัััะฐะผะธ ะผะพะดัะปะตะน:

```
โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
โ ะะบัะธะฒะฝัะต โะขะตััะธััััััโะะตะฐะบัะธะฒะฝัะตโ  ะััะธะฒ   โ
โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโ
```

- **ะะบัะธะฒะฝัะต** - ะผะพะดัะปะธ ะฒ ะฟัะพะดะฐะบัะตะฝะต
- **ะขะตััะธัััััั** - ะฝะฐ ััะฐะดะธะธ ัะตััะธัะพะฒะฐะฝะธั
- **ะะตะฐะบัะธะฒะฝัะต** - ะฒัะตะผะตะฝะฝะพ ะพัะบะปััะตะฝั
- **ะััะธะฒ** - ัััะฐัะตะฒัะธะต/ัะดะฐะปะตะฝะฝัะต

### 2๏ธโฃ ะกััะฐัะตะณะธัะตัะบะธะน Kanban (ะะพัะพะฝะบะฐ)
**5 ะบะพะปะพะฝะพะบ** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟะพ ััะฐะฟะฐะผ ะปะธะด-ะณะตะฝะตัะฐัะธะธ:

```
โโโโโโโโโโโฌโโโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
โ  ะะฝะฐะปะธะท โะัะธะฒะปะตัะตะฝะธะต โ ะะฑัะฐะฑะพัะบะฐโะะพะฝะฒะตััะธั โะะฝะฐะปะธัะธะบะฐ โ
โโโโโโโโโโโดโโโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโ
```

- **ะะฝะฐะปะธะท** - ะธััะปะตะดะพะฒะฐะฝะธะต ััะฝะบะฐ ะธ ะบะพะฝะบััะตะฝัะพะฒ
- **ะัะธะฒะปะตัะตะฝะธะต** - ะณะตะฝะตัะฐัะธั ััะฐัะธะบะฐ ะธ ะปะธะดะพะฒ
- **ะะฑัะฐะฑะพัะบะฐ** - ะบะฒะฐะปะธัะธะบะฐัะธั ะปะธะดะพะฒ
- **ะะพะฝะฒะตััะธั** - ะฟัะพะดะฐะถะธ ะธ ัะดะตะปะบะธ
- **ะะฝะฐะปะธัะธะบะฐ** - ะฐะฝะฐะปะธะท ัะตะทัะปััะฐัะพะฒ

## ๐ ะัััััะน ััะฐัั

### 1๏ธโฃ ะัะธะผะตะฝะธัั ะพะฑะฝะพะฒะปะตะฝะฝัั SQL ััะตะผั

```sql
-- ะะะะะ: ะญัะพ ะพะฑะฝะพะฒะปะตะฝะธะต ััะตะผั! ะะพะฑะฐะฒะปัะตั ะฝะพะฒัะต ะฟะพะปั.
-- ะคะฐะนะป: core/database/schema_modules.sql

-- ะัะฟะพะปะฝะธัะต ะฒ Supabase SQL Editor:
ALTER TABLE platform_modules
ADD COLUMN IF NOT EXISTS pipeline_stage VARCHAR(50) NOT NULL DEFAULT 'research',
ADD COLUMN IF NOT EXISTS pipeline_order INTEGER DEFAULT 0;

-- ะะพะฑะฐะฒะธัั constraint
ALTER TABLE platform_modules
ADD CONSTRAINT platform_modules_pipeline_stage_check
CHECK (pipeline_stage IN ('research', 'acquisition', 'processing', 'conversion', 'analytics'));

-- ะกะพะทะดะฐัั ะธะฝะดะตะบัั
CREATE INDEX IF NOT EXISTS idx_platform_modules_pipeline_stage
ON platform_modules(pipeline_stage);

CREATE INDEX IF NOT EXISTS idx_platform_modules_pipeline_order
ON platform_modules(pipeline_order);

-- ะะฑะฝะพะฒะธัั ัะตััะพะฒัะต ะดะฐะฝะฝัะต
UPDATE platform_modules
SET pipeline_stage = 'acquisition', pipeline_order = 0
WHERE platform = 'olx';

UPDATE platform_modules
SET pipeline_stage = 'acquisition', pipeline_order = 1
WHERE platform = 'satu';
```

### 2๏ธโฃ ะะฐะฟัััะธัั Backend

```bash
cd /Users/vbut/lead-generation-system
source venv/bin/activate
python -m uvicorn core.api.main:app --reload --port 8000
```

### 3๏ธโฃ ะะฐะฟัััะธัั Frontend

```bash
cd frontend
npm run dev
```

### 4๏ธโฃ ะัะบัััั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั

```
http://localhost:3000/dashboard/modules-manager
```

## ๐ฎ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### ะะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ะฒะธะดะฐะผะธ

ะะฒะตััั ัััะฐะฝะธัั ะตััั **Tabs** ั ะดะฒัะผั ะบะฝะพะฟะบะฐะผะธ:

- **๐ ะกัะฐัััะฝัะน** - ัะฟัะฐะฒะปะตะฝะธะต ะฟะพ ััะฐัััะฐะผ (active, testing, inactive, archived)
- **๐ ะกััะฐัะตะณะธัะตัะบะธะน** - ัะฟัะฐะฒะปะตะฝะธะต ะฟะพ ััะฐะฟะฐะผ ะฒะพัะพะฝะบะธ (research โ acquisition โ processing โ conversion โ analytics)

### Drag & Drop

1. **ะะฐะถะผะธัะต** ะผะพะดัะปั ะทะฐ ะธะบะพะฝะบั โฐ
2. **ะะตัะตัะฐัะธัะต** ะฒ ะฝัะถะฝัั ะบะพะปะพะฝะบั
3. **ะัะฟัััะธัะต** - ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพััะฐะฝะธััั

### ะะตะทะฐะฒะธัะธะผัะต ะฟะพะปั

- `status` - ััะฐััั ะผะพะดัะปั (ััะฐัััะฝัะน Kanban)
- `pipeline_stage` - ััะฐะฟ ะฒะพัะพะฝะบะธ (ัััะฐัะตะณะธัะตัะบะธะน Kanban)
- `order` - ะฟะพััะดะพะบ ะฒ ััะฐัััะฝะพะผ Kanban
- `pipeline_order` - ะฟะพััะดะพะบ ะฒ ัััะฐัะตะณะธัะตัะบะพะผ Kanban

ะะพะดัะปั ะผะพะถะตั ะฑััั:
- **ะะบัะธะฒะฝัะน** (status) + **ะัะธะฒะปะตัะตะฝะธะต** (pipeline_stage)
- **ะขะตััะธััะตััั** (status) + **ะะฝะฐะปะธัะธะบะฐ** (pipeline_stage)
- ะ ั.ะด. - ะฝะตะทะฐะฒะธัะธะผะพ ะดััะณ ะพั ะดััะณะฐ!

## ๐ ะกัะฐัะธััะธะบะฐ

ะะฝะธะทั ัััะฐะฝะธัั ะพัะพะฑัะฐะถะฐะตััั:

```
โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
โ  ะะฝะฐะปะธะท  โะัะธะฒะปะตัะตะฝะธะตโะะฑัะฐะฑะพัะบะฐ โะะพะฝะฒะตััะธั โะะฝะฐะปะธัะธะบะฐ โ
โ    2     โ    5      โ    3     โ    1     โ    2     โ
โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโ
```

ะะธะดะฝะพ ัะฐัะฟัะตะดะตะปะตะฝะธะต ะผะพะดัะปะตะน ะฟะพ ััะฐะฟะฐะผ ะฒะพัะพะฝะบะธ.

## ๐ง ะะพะฒัะต API Endpoints

### PATCH endpoints ะดะปั pipeline

```bash
# ะะฑะฝะพะฒะธัั ัััะฐัะตะณะธัะตัะบะธะน ััะฐะฟ
PATCH /api/modules/{id}/pipeline-stage?pipeline_stage=acquisition

# ะะฑะฝะพะฒะธัั ะฟะพััะดะพะบ ะฒ ัััะฐัะตะณะธัะตัะบะพะผ Kanban
PATCH /api/modules/{id}/pipeline-order?pipeline_order=5
```

### ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

```python
import requests

# ะะตัะตะผะตััะธัั ะผะพะดัะปั ะฒ ััะฐะฟ "ะัะธะฒะปะตัะตะฝะธะต"
requests.patch(
    "http://localhost:8000/api/modules/uuid123/pipeline-stage",
    params={"pipeline_stage": "acquisition"}
)

# ะะทะผะตะฝะธัั ะฟะพััะดะพะบ ะฒ ะฟะฐะนะฟะปะฐะนะฝะต
requests.patch(
    "http://localhost:8000/api/modules/uuid123/pipeline-order",
    params={"pipeline_order": 3}
)
```

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะกัะตะฝะฐัะธะน 1: ะะพะฒัะน ะผะพะดัะปั OLX

1. ะกะพะทะดะฐะตัะต ะผะพะดัะปั OLX
2. **ะกัะฐัััะฝัะน Kanban**: ััะฐะฒะธัะต ะฒ "ะขะตััะธััะตััั"
3. **ะกััะฐัะตะณะธัะตัะบะธะน Kanban**: ัะฐะทะผะตัะฐะตัะต ะฒ "ะัะธะฒะปะตัะตะฝะธะต" (ั.ะบ. OLX ะดะปั ะณะตะฝะตัะฐัะธะธ ััะฐัะธะบะฐ)
4. ะะพัะปะต ัะตััะธัะพะฒะฐะฝะธั: ะฟะตัะตะฝะพัะธัะต ะฒ "ะะบัะธะฒะฝัะต" (ััะฐัััะฝัะน)
5. ะกััะฐัะตะณะธัะตัะบะธะน ััะฐะฟ ะพััะฐะตััั "ะัะธะฒะปะตัะตะฝะธะต"

### ะกัะตะฝะฐัะธะน 2: ะะพะดัะปั ะะฝะฐะปะธัะธะบะธ

1. ะกะพะทะดะฐะตัะต ะผะพะดัะปั ะดะปั ะฐะฝะฐะปะธัะธะบะธ
2. **ะกัะฐัััะฝัะน**: "ะะบัะธะฒะฝัะต"
3. **ะกััะฐัะตะณะธัะตัะบะธะน**: "ะะฝะฐะปะธัะธะบะฐ" (ะฟะพัะปะตะดะฝะธะน ััะฐะฟ ะฒะพัะพะฝะบะธ)

### ะกัะตะฝะฐัะธะน 3: ะะปะฐะฝะธัะพะฒะฐะฝะธะต ะฒะพัะพะฝะบะธ

1. ะะตัะตะบะปััะฐะตัะตัั ะฝะฐ **ะกััะฐัะตะณะธัะตัะบะธะน Kanban**
2. ะะธะดะธัะต ะฒัะต ะผะพะดัะปะธ ะฟะพ ััะฐะฟะฐะผ:
   - ะะฝะฐะปะธะท: Competitor Parser
   - ะัะธะฒะปะตัะตะฝะธะต: OLX, Satu, Kaspi
   - ะะฑัะฐะฑะพัะบะฐ: Lead Qualification Bot
   - ะะพะฝะฒะตััะธั: CRM Integration
   - ะะฝะฐะปะธัะธะบะฐ: Analytics Dashboard
3. Drag & drop ะดะปั ะฟะตัะตัะฐัะฟัะตะดะตะปะตะฝะธั

## ๐จ ะะธะทัะฐะปัะฝัะต ะพัะปะธัะธั

### ะกัะฐัััะฝัะน Kanban
- **4 ะบะพะปะพะฝะบะธ** ะณะพัะธะทะพะฝัะฐะปัะฝะพ
- ะฆะฒะตัะฐ: ะทะตะปะตะฝัะน (ะฐะบัะธะฒะฝัะต), ะถะตะปััะน (ัะตััะธัััััั), ัะตััะน (ะฝะตะฐะบัะธะฒะฝัะต), ะบัะฐัะฝัะน (ะฐััะธะฒ)
- ะคะพะบัั ะฝะฐ ัะตะบััะตะผ ัะพััะพัะฝะธะธ ะผะพะดัะปั

### ะกััะฐัะตะณะธัะตัะบะธะน Kanban
- **5 ะบะพะปะพะฝะพะบ** ะณะพัะธะทะพะฝัะฐะปัะฝะพ
- ะฆะฒะตัะฐ: ัะธะฝะธะน โ ะทะตะปะตะฝัะน โ ะถะตะปััะน โ ะพัะฐะฝะถะตะฒัะน โ ัะธะพะปะตัะพะฒัะน
- ะคะพะบัั ะฝะฐ ะผะตััะต ะผะพะดัะปั ะฒ ะฒะพัะพะฝะบะต
- ะะฐะณะพะปะพะฒะบะธ ะบะพะปะพะฝะพะบ ั ะพะฟะธัะฐะฝะธะตะผ ััะฐะฟะฐ

## ๐ ะัะตะธะผััะตััะฒะฐ ะดะฒะพะนะฝะพะณะพ Kanban

1. **ะะธะฑะบะพััั** - ะดะฒะฐ ะฝะตะทะฐะฒะธัะธะผัั ะธะทะผะตัะตะฝะธั ะดะปั ะผะพะดัะปะตะน
2. **ะกััะฐัะตะณะธัะตัะบะพะต ะฒะธะดะตะฝะธะต** - ะฟะพะฝะธะผะฐะตัะต, ะบะฐะบะธะต ััะฐะฟั ะฒะพัะพะฝะบะธ ะฟะพะบัััั
3. **ะะฟะตัะฐัะธะพะฝะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต** - ะฒะธะดะธัะต ััะฐััั ัะฐะฑะพัั ะผะพะดัะปะตะน
4. **ะะฐะบ ะฒ AmoCRM** - ะฟะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ะฒะธะดะฐะผะธ ะพะดะฝะธะผ ะบะปะธะบะพะผ
5. **Drag & Drop** - ะธะฝััะธัะธะฒะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต

## ๐ ะกัััะบัััะฐ ะดะฐะฝะฝัั

```typescript
interface Module {
  // ะัะฝะพะฒะฝะพะต
  id: string;
  name: string;
  platform: string;

  // ะกัะฐัััะฝัะน Kanban
  status: 'active' | 'testing' | 'inactive' | 'archived';
  order: number;

  // ะกััะฐัะตะณะธัะตัะบะธะน Kanban
  pipeline_stage: 'research' | 'acquisition' | 'processing' | 'conversion' | 'analytics';
  pipeline_order: number;

  // ะััะฐะปัะฝะพะต
  description: string;
  version: string;
  api_url: string;
  is_healthy: boolean;
  // ...
}
```

## ๐ Troubleshooting

### ะะพะดัะปะธ ะฝะต ะฟะตัะตะบะปััะฐัััั ะผะตะถะดั ััะฐะฟะฐะผะธ

1. ะัะพะฒะตัััะต, ััะพ SQL ะผะธะณัะฐัะธั ะฟัะธะผะตะฝะตะฝะฐ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพะปะต `pipeline_stage` ัััะตััะฒัะตั:
   ```sql
   SELECT column_name FROM information_schema.columns
   WHERE table_name = 'platform_modules';
   ```

### ะัะธะฑะบะฐ ะฟัะธ drag & drop

1. ะัะบัะพะนัะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12)
2. ะัะพะฒะตัััะต network tab ะฟัะธ ะฟะตัะตัะฐัะบะธะฒะฐะฝะธะธ
3. ะฃะฑะตะดะธัะตัั, ััะพ backend API ะทะฐะฟััะตะฝ

### Tabs ะฝะต ะฟะตัะตะบะปััะฐัััั

1. ะัะพะฒะตัััะต, ััะพ ะบะพะผะฟะพะฝะตะฝั Tabs ัััะฐะฝะพะฒะปะตะฝ:
   ```bash
   cd frontend
   npm list @radix-ui/react-tabs
   ```

## ๐ Changelog

### v2.0 - ะะฒะพะนะฝะพะน Kanban

- โ ะะพะฑะฐะฒะปะตะฝ `PipelineStage` enum
- โ ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `pipeline_stage` ะฒ ะผะพะดะตะปั
- โ ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `pipeline_order` ะฒ ะผะพะดะตะปั
- โ ะะพะฒัะต API endpoints ะดะปั pipeline
- โ Tabs ะฟะตัะตะบะปััะฐัะตะปั ะผะตะถะดั ะฒะธะดะฐะผะธ
- โ ะกััะฐัะตะณะธัะตัะบะธะน Kanban ั 5 ะบะพะปะพะฝะบะฐะผะธ
- โ ะะตะทะฐะฒะธัะธะผะพะต ัะฟัะฐะฒะปะตะฝะธะต ะดะฒัะผั Kanban
- โ ะกัะฐัะธััะธะบะฐ ะฟะพ ััะฐะฟะฐะผ ะฒะพัะพะฝะบะธ

---

**ะะพัะพะฒะพ!** ะขะตะฟะตัั ั ะฒะฐั ะตััั ะดะฒะต ะฟะพะปะฝะพัะตะฝะฝัะต Kanban ะดะพัะบะธ ะบะฐะบ ะฒ AmoCRM! ๐
